(()=>{"use strict";var e,t={398:(e,t,n)=>{n.d(t,{n:()=>i});const s=[];class i{constructor(e){this.element=document.createElement(e.tag),this.createElement(e)}getElement(){return this.element}addInnerElement(e){e instanceof i?this.element.append(e.getElement()):this.element.append(e)}removeElement(){this.element.remove()}getContext(){if(!(this.element instanceof HTMLCanvasElement))throw new TypeError("Element is not a canvas.");const e=this.element.getContext("2d");if(!e)throw new Error("Failed to get 2D context from canvas.");return e}getCanvasElement(){if(!(this.element instanceof HTMLCanvasElement))throw new TypeError("Element is not a canvas.");return this.element}createElement(e){this.setCssClasses(e.classNames),this.setTextContent(e.textContent),this.setCallback(e.callback),this.setAttributes(e.attributes)}setTextContent(e=""){this.element.textContent=e}setCallback(e){this.element instanceof HTMLInputElement&&"function"==typeof e&&this.element.addEventListener("input",(t=>{e(t)})),"function"==typeof e&&this.element.addEventListener("click",(t=>{e(t)}))}setCssClasses(e=s){this.element.classList.add(...e)}setAttributes(e){if(e)for(const[t,n]of Object.entries(e))this.element.setAttribute(t,n)}}},691:(e,t,n)=>{n.d(t,{A:()=>i});var s=n(398);class i{constructor(e){this.viewElementCreator=this.createView(e)}getHtmlElement(){return this.viewElementCreator.getElement()}createView(e){return this.viewElementCreator=new s.n(e),this.viewElementCreator}}},836:(e,t,n)=>{n.d(t,{b:()=>s});const s={INDEX:"index",DECISION_PICKER:"decision-picker",NOT_FOUND:"not-found"}}},n={};function s(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,s),a.exports}s.m=t,s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>e+"."+{77:"6f5a3c756a244ab14b36",116:"22cb32804d8ceeaa9a34",456:"95e4de572e51cd261760"}[e]+".js",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},s.l=(t,n,i,a)=>{if(e[t])e[t].push(n);else{var o,r;if(void 0!==i)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var c=l[h];if(c.getAttribute("src")==t){o=c;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=t),e[t]=[n];var d=(n,s)=>{o.onerror=o.onload=null,clearTimeout(u);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(s))),n)return n(s)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),r&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={792:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise(((n,s)=>i=e[t]=[n,s]));n.push(i[2]=a);var o=s.p+s.u(t),r=new Error;s.l(o,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",r.name="ChunkLoadError",r.type=a,r.request=o,i[1](r)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[o,r,l]=n,h=0;if(o.some((t=>0!==e[t]))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)l(s)}for(t&&t(n);h<o.length;h++)a=o[h],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=s(691);const a={tag:"header",textContent:"Decision Making Tool",classNames:["header"]};class o extends i.A{constructor(e=a){super(e)}}const r={tag:"main",classNames:["main"]};class l extends i.A{constructor(e=r){super(e)}setContent(e){const t=this.viewElementCreator.getElement();for(;t.firstElementChild;)t.firstElementChild.remove();this.viewElementCreator.addInnerElement(e.getHtmlElement())}}var h=s(836);class c{constructor(e){this.params={nameEvent:"popstate",locationField:"pathname"},this.callback=e,this.handler=this.navigate.bind(this),globalThis.addEventListener(this.params.nameEvent,this.handler)}static setHistory(e){globalThis.history.pushState("undefined","",`/${e}`)}navigate(e){"string"==typeof e&&c.setHistory(e);const t=globalThis.location.pathname.slice(1);console.log("urlString",t);const n={path:"",resource:""};[n.path="",n.resource=""]=t.split("/"),this.callback(n)}disable(){globalThis.removeEventListener(this.params.nameEvent,this.handler)}}class d extends c{constructor(e){super(e),this.params={nameEvent:"hashchange",locationField:"hash"},globalThis.addEventListener(this.params.nameEvent,this.handler)}static setHistory(e){globalThis.location.href=`${globalThis.location.href.replace(/#(.*)$/,"")}#${e}`}}class u{constructor(e){this.routes=e,this.handler=new c(this.urlChangedHandler.bind(this)),document.addEventListener("DOMContentLoaded",(()=>{this.handler.navigate()}))}setHashHandler(){this.handler.disable(),this.handler=new d(this.urlChangedHandler.bind(this))}navigate(e){this.handler.navigate(e)}urlChangedHandler(e){console.log("requestParameters",e);const t=""===e.resource?e.path:`${e.path}`;console.log("pathForFind:",t);const n=this.routes.find((e=>e.path===t));n?n.callback(e.resource):this.redirectToNotFoundPage()}redirectToNotFoundPage(){const e=this.routes.find((e=>e.path===h.b.NOT_FOUND));e&&this.navigate(e.path)}}class m{constructor(){this.winSound=new Audio("./sounds/winSound.mp3");const e=localStorage.getItem("soundEnabled");this.enabled=!!e&&JSON.parse(e)}toggleAudio(){this.enabled=!this.enabled,localStorage.setItem("soundEnabled",JSON.stringify(this.enabled)),console.log(this.enabled)}playWinSound(){this.enabled&&this.winSound.play()}}var p=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function o(e){try{l(s.next(e))}catch(e){a(e)}}function r(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((s=s.apply(e,t||[])).next())}))};new class{constructor(){const e=this.createRoutes();this.router=new u(e),this.sounds=new m,this.headerView=new o,this.main=new l,this.createView()}createView(){document.body.append(this.headerView.getHtmlElement(),this.main.getHtmlElement())}createRoutes(){return[{path:"",callback:()=>p(this,void 0,void 0,(function*(){const{default:e}=yield s.e(456).then(s.bind(s,456));this.setContent(new e(this.router,this.sounds))}))},{path:`${h.b.INDEX}`,callback:()=>p(this,void 0,void 0,(function*(){const{default:e}=yield s.e(456).then(s.bind(s,456));this.setContent(new e(this.router,this.sounds))}))},{path:`${h.b.DECISION_PICKER}`,callback:()=>p(this,void 0,void 0,(function*(){const{default:e}=yield s.e(116).then(s.bind(s,116));this.setContent(new e(this.router,this.sounds))}))},{path:`${h.b.NOT_FOUND}`,callback:()=>p(this,void 0,void 0,(function*(){const{default:e}=yield s.e(77).then(s.bind(s,77));this.setContent(new e(this.router))}))}]}setContent(e){this.main.setContent(e)}}})();